version: '3.1'
intents:
  - affirm
  - booking
  - cerita_kisah_cinta
  - kisah_cinta_bali
  - rekomendasi_dari_kisah
  - lihat_detail_konsep
  - jelaskan_legenda
  - mulai_feedback
  - deny
  - goodbye
  - greet
  - info_konsep
  - info_lokasi
  - info_paket
  - isi_kuesioner
  - nlu_fallback
  - out_of_scope
  - finance_oos
  - pilih_tema_perdamaian
  - pilih_tema_perjuangan
  - pilih_tema_romantis
  - tanya_makna
  - tanya_prewedding_umum
entities:
  - tema
  - lokasi
  - kisah_id
slots:
  tema:
    type: text
    mappings:
    - type: from_entity
      entity: tema
  lokasi_kategori:
    type: text
    mappings:
    - type: custom
  nama_pasangan:
    type: text
    mappings:
    - type: from_text
      not_intent:
      - greet
      - goodbye
      - out_of_scope
      - nlu_fallback
      conditions:
      - active_loop: kuesioner_form
        requested_slot: nama_pasangan
  kisah_cinta:
    type: text
    mappings:
    - type: from_text
      not_intent:
      - greet
      - goodbye
      - out_of_scope
      - nlu_fallback
      conditions:
      - active_loop: kuesioner_form
        requested_slot: kisah_cinta
  latar_belakang:
    type: text
    mappings:
    - type: from_text
      not_intent:
      - greet
      - goodbye
      - out_of_scope
      - nlu_fallback
      conditions:
      - active_loop: kuesioner_form
        requested_slot: latar_belakang
  tahu_legenda:
    type: bool
    mappings:
    - type: from_intent
      intent: affirm
      value: true
      conditions:
      - active_loop: kuesioner_form
        requested_slot: tahu_legenda
    - type: from_intent
      intent: deny
      value: false
      conditions:
      - active_loop: kuesioner_form
        requested_slot: tahu_legenda
  kepuasan:
    type: text
    mappings:
    - type: from_text
      not_intent:
      - greet
      - out_of_scope
      - nlu_fallback
      conditions:
      - active_loop: feedback_form
        requested_slot: kepuasan
  budget:
    type: text
    mappings:
    - type: from_text
      not_intent:
      - greet
      - out_of_scope
      - nlu_fallback
      conditions:
      - active_loop: kuesioner_form
        requested_slot: budget
  rekomendasi_tema:
    type: text
    mappings:
    - type: custom
  kisah_id:
    type: text
    mappings:
    - type: from_entity
      entity: kisah_id
responses:
  utter_greet:
  - text: |-
      ğŸ™ Om Swastyastu! Selamat datang di Konsultan Prewedding Legenda Bali.

      Saya akan bantu temukan konsep prewedding yang bermakna dari kisah cinta Bali.

      Pilih salah satu di bawah ini ya:
    buttons:
    - title: "Kisah cinta Bali"
      payload: "/kisah_cinta_bali"
    - title: "Analisis kisah kami"
      payload: "/isi_kuesioner"
    - title: "Lihat detail konsep"
      payload: "/lihat_detail_konsep"
    - title: "Info paket"
      payload: "/info_paket"
  utter_ask_nama_pasangan:
  - text: 'Boleh tahu nama kalian berdua? (misal: Budi & Ani)'
  utter_ask_kisah_cinta:
  - text: Ceritakan kisah cinta kalian dalam beberapa kalimat. Apa yang membuat hubungan kalian unik? ğŸ’•
  utter_ask_latar_belakang:
  - text: 'Apakah kalian dari latar belakang yang berbeda? (misal: beda agama, suku, budaya, atau sama saja)'
  utter_ask_tahu_legenda:
  - text: Sebelumnya, apakah Anda sudah tahu tentang legenda-legenda Bali seperti Ratu Pantai Kuta atau Manik Angkeran?
  utter_ask_kepuasan:
  - text: Seberapa puas dengan rekomendasi tema yang saya berikan? (1-5, dimana 5 = sangat puas)
  utter_ask_budget:
  - text: 'Berapa budget yang Anda siapkan untuk prewedding? (a: <5jt, b: 5-10jt, c: >10jt)'
  utter_submit_form:
  - text: Terima kasih! ğŸ™ Saya sedang analisis kisah cinta Anda...
  utter_goodbye:
  - text: |-
      Terima kasih sudah berkonsultasi! ğŸ’•

      Om Shanti Shanti Shanti Om ğŸ™
  utter_info_konsep:
  - text: |-
      âœ¨ KONSEP PREWEDDING LEGENDA BALI âœ¨

      Kami memiliki 6 konsep prewedding unik yang terinspirasi dari legenda Bali:

      ğŸŒŠ RATU PANTAI KUTA â€” Cinta yang Mendamaikan Perbedaan
      Untuk: Pasangan beda latar belakang (agama/suku/budaya)

      ğŸ’ PUTRI AYU BALI â€” Cinta pada Pandangan Pertama
      Untuk: Pasangan yang percaya pada takdir & chemistry kuat

      ğŸ‰ MANIK ANGKERAN â€” Cinta yang Menguat melalui Tantangan
      Untuk: Pasangan LDR atau yang melewati banyak rintangan

      ğŸ•Šï¸ SRI JAYA PANGUS & KANG CING WIE â€” Akulturasi & Tradisi
      Untuk: Pasangan beda etnis/budaya yang merayakan perpaduan

      ğŸŒ¿ ULUN DANU BERATAN â€” Harmoni & Keseimbangan Alam
      Untuk: Pasangan yang mencintai alam & spiritualitas

      ğŸŒº JAYAPRANAâ€“LAYONSARI â€” Kesetiaan Abadi & Ketulusan
      Untuk: Pasangan yang menekankan komitmen mendalam

      Pilih "Lihat detail konsep" untuk cerita lengkap setiap legenda!
    buttons:
    - title: "Lihat detail konsep"
      payload: "/lihat_detail_konsep"
    - title: "Analisis kisah kami"
      payload: "/isi_kuesioner"
    - title: "Jelaskan makna legenda"
      payload: "/jelaskan_legenda"
    - title: "Info paket & harga"
      payload: "/info_paket"
  utter_info_paket:
  - text: |-
      ğŸ’¼ INFO PAKET & HARGA

      â€¢ BASIC â€” Rp 4.500.000
        1 lokasi, 4 jam, 50+ foto

        Cocok untuk pasangan dengan waktu terbatas.

      â€¢ PREMIUM â€” Rp 8.500.000
        2 lokasi, 6 jam, 100+ foto, MUA, video 2 menit

        Paket paling populer, balance hasil & harga.

      â€¢ DIAMOND â€” Rp 15.000.000
        3 lokasi, 8â€“10 jam, 150+ foto, full team, video 5 menit

        Maksimalkan storytelling konsep legenda.

      Mau saya bantu rekomendasikan paket berdasarkan tema dan budget?
    buttons:
    - title: "Analisis kisah kami"
      payload: "/isi_kuesioner"
    - title: "Lihat detail konsep"
      payload: "/lihat_detail_konsep"
    - title: "Booking sekarang"
      payload: "/booking"
  utter_info_lokasi:
  - text: |-
      ğŸ“ LOKASI REKOMENDASI

      â€¢ Pantai Kuta, Melasti, Tanah Lot â€” nuansa Ratu Pantai Kuta
      â€¢ Tegalalang, Beratan, Taman Ujung â€” nuansa Putri Ayu Bali
      â€¢ Gunung Batur, Sekumpul, Campuhan â€” nuansa Manik Angkeran

      Lokasi bisa disesuaikan dengan tema dan budget. Mau lihat detail konsepnya?
    buttons:
    - title: "Detail konsep"
      payload: "/lihat_detail_konsep"
    - title: "Jelaskan legenda"
      payload: "/jelaskan_legenda"
    - title: "Analisis kisah kami"
      payload: "/isi_kuesioner"
  utter_booking:
  - text: |-
      âœ… LANGKAH BOOKING CEPAT

      1) Pilih tema/konsep (bisa dari rekomendasi saya)
      2) Tentukan paket (Basic, Premium, Diamond)
      3) Tentukan tanggal & lokasi
      4) DP dan konfirmasi jadwal

      Hubungi WhatsApp admin: +62 812-3655-9230
      atau klik tombol di bawah.
    buttons:
    - title: "Chat WhatsApp"
      payload: "/booking"
    - title: "Lihat paket"
      payload: "/info_paket"
    - title: "Detail konsep"
      payload: "/lihat_detail_konsep"
  utter_tanya_prewedding_umum:
  - text: |-
      âœ¨ TENTANG PREWEDDING LEGENDA BALI

      Prewedding Legenda Bali adalah sesi foto prewedding yang mengangkat kisah cinta legendaris dari Bali sebagai konsep storytelling.

      ğŸŒŸ KEUNIKAN KAMI:
      â€¢ Konsep berbasis cerita cinta klasik Bali (Jayaprana-Layonsari, Ratu Pantai Kuta, dll)
      â€¢ Setiap foto punya makna mendalam, bukan sekedar pose
      â€¢ Lokasi iconic Bali yang sesuai legenda
      â€¢ Tim profesional berpengalaman 5+ tahun
      â€¢ Hasil natural + cinematic

      ğŸ“¸ YANG ANDA DAPATKAN:
      â€¢ 50-150+ foto high resolution (tergantung paket)
      â€¢ Video cinematic 2-5 menit
      â€¢ Makeup & wardrobe assistance
      â€¢ Multiple locations (1-3 lokasi)
      â€¢ Editing premium
      â€¢ Konsultasi tema gratis

      â±ï¸ DURASI: 4-10 jam (tergantung paket)
      ğŸ’° HARGA: Mulai dari Rp 4.500.000

      ğŸ’¡ KENAPA PILIH KAMI?
      Kami bukan hanya memotret, tapi menceritakan kisah cinta Anda melalui lensa legenda Bali yang bermakna.

      Mau tahu paket lengkap atau konsep yang cocok untuk Anda?
    buttons:
    - title: "Info paket & harga"
      payload: "/info_paket"
    - title: "Lihat konsep"
      payload: "/info_konsep"
    - title: "Analisis kisah kami"
      payload: "/isi_kuesioner"
    - title: "Booking"
      payload: "/booking"
forms:
  kuesioner_form:
    ignored_intents:
    - info_lokasi
    required_slots:
    - nama_pasangan
    - kisah_cinta
    - latar_belakang
    - tahu_legenda
    - budget
  feedback_form:
    required_slots:
    - kepuasan
actions:
  - utter_greet
  - action_analisis_kisah_cinta
  - action_rekomendasi_tema
  - action_detail_konsep
  - action_jelaskan_legenda
  - action_simpan_data_riset
  - action_default_fallback
  - action_handle_out_of_scope
  - action_kisah_cinta_bali
  - action_rekomendasi_dari_kisah
  - action_reset_kuesioner
  - validate_kuesioner_form
  - validate_feedback_form
  - action_info_lokasi_kontekstual
  - action_info_paket_kontekstual
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
